<main class="grid grid-cols-1 md:grid-cols-2 min-h-screen font-sans bg-white">
  <!-- Left Panel: Onboarding Form -->
  <div class="flex flex-col justify-between p-8 sm:p-12">
    <header>
      <a routerLink="/" class="flex items-center space-x-3">
        <svg class="h-8 w-8" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="16" cy="16" r="16" fill="#F97316" />
          <path d="M16 5.33331C9.00002 5.33331 5.33335 9.00002 5.33335 16" stroke="white" stroke-width="3"
            stroke-linecap="round" />
          <path d="M26.6667 16C26.6667 23 23 26.6667 16 26.6667" stroke="white" stroke-width="3" stroke-linecap="round" />
        </svg>
        <span class="text-2xl font-bold text-gray-900">Base 44</span>
      </a>
    </header>

    <div class="w-full max-w-lg mx-auto my-12">
      <!-- Progress Bar -->
      <div>
        <p class="text-sm font-medium text-gray-600 mb-2">Step {{ currentStep() }} of 4</p>
        <div class="bg-gray-200 rounded-full h-1.5">
          <div class="bg-orange-500 h-1.5 rounded-full transition-all duration-300 ease-out" [style.width]="progress() + '%'"></div>
        </div>
      </div>

      <!-- Step Content -->
      <div class="mt-8 min-h-[350px]">
        @switch (currentStep()) {
          @case (1) {
            <div>
              <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 leading-tight">Create your account</h1>
              <p class="mt-2 text-gray-600">Let's get you started with the future of CRM.</p>
              
              <div class="mt-8">
                <button (click)="signUpWithGoogle()"
                  class="w-full flex items-center justify-center space-x-2 bg-white border border-orange-400 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-orange-50 transition-colors">
                  <svg class="w-5 h-5" viewBox="0 0 48 48">
                    <path fill="#FFC107"
                      d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z">
                    </path>
                    <path fill="#FF3D00"
                      d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z">
                    </path>
                    <path fill="#4CAF50"
                      d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.223,0-9.657-3.356-11.303-8H4.694v8.173C8.434,40.166,15.731,44,24,44z">
                    </path>
                    <path fill="#1976D2"
                      d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C39.99,36.586,44,31.023,44,24C44,22.659,43.862,21.35,43.611,20.083z">
                    </path>
                  </svg>
                  <span>Sign up with Google</span>
                </button>

                <div class="flex items-center my-6">
                  <hr class="w-full border-gray-300" />
                  <span class="px-4 text-gray-500 font-medium text-sm">OR</span>
                  <hr class="w-full border-gray-300" />
                </div>
              </div>

              <form class="space-y-6">
                <div>
                  <label for="fullName" class="text-sm font-bold text-gray-700">Full Name</label>
                  <input type="text" id="fullName" (input)="onInput('fullName', $event)" [value]="state().fullName"
                    class="mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-gray-500 focus:border-gray-500 placeholder-gray-500"
                    placeholder="John Doe" />
                </div>
                 <div>
                  <label for="email" class="text-sm font-bold text-gray-700">Work Email</label>
                  <input type="email" id="email" (input)="onInput('email', $event)" [value]="state().email"
                    class="mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-gray-500 focus:border-gray-500 placeholder-gray-500"
                    placeholder="you@company.com" />
                </div>
                 <div>
                  <label for="password" class="text-sm font-bold text-gray-700">Password</label>
                  <input type="password" id="password" (input)="onInput('password', $event)" [value]="state().password"
                    class="mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-gray-500 focus:border-gray-500 placeholder-gray-500"
                    placeholder="8+ characters" />
                </div>
              </form>
            </div>
          }
          @case (2) {
             <div>
              <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">How large is your team?</h1>
              <p class="mt-2 text-gray-600">This helps us tailor your experience.</p>
              <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4">
                @for(size of teamSizeOptions; track size) {
                   <div (click)="selectOption('teamSize', size)"
                        class="p-6 border-2 rounded-lg cursor-pointer transition-all duration-200 text-center"
                        [class.bg-orange-50]="state().teamSize === size"
                        [class.border-orange-500]="state().teamSize === size"
                        [class.hover:border-orange-300]="state().teamSize !== size"
                        [class.border-gray-200]="state().teamSize !== size">
                      <p class="font-bold text-lg text-gray-800">{{ size }}</p>
                  </div>
                }
              </div>
            </div>
          }
           @case (3) {
             <div>
              <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">What is your role?</h1>
              <p class="mt-2 text-gray-600">We'll personalize your setup based on your function.</p>
              <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4">
                @for(role of roleOptions; track role) {
                   <div (click)="selectOption('role', role)"
                        class="p-6 border-2 rounded-lg cursor-pointer transition-all duration-200 text-center"
                        [class.bg-orange-50]="state().role === role"
                        [class.border-orange-500]="state().role === role"
                        [class.hover:border-orange-300]="state().role !== role"
                        [class.border-gray-200]="state().role !== role">
                      <p class="font-bold text-lg text-gray-800">{{ role }}</p>
                  </div>
                }
              </div>
            </div>
          }
           @case (4) {
             <div>
              <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">What's your main goal?</h1>
              <p class="mt-2 text-gray-600">This will help us point you in the right direction.</p>
              <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4">
                @for(goal of goalOptions; track goal) {
                   <div (click)="selectOption('goal', goal)"
                        class="p-6 border-2 rounded-lg cursor-pointer transition-all duration-200 text-center"
                        [class.bg-orange-50]="state().goal === goal"
                        [class.border-orange-500]="state().goal === goal"
                        [class.hover:border-orange-300]="state().goal !== goal"
                        [class.border-gray-200]="state().goal !== goal">
                      <p class="font-bold text-lg text-gray-800">{{ goal }}</p>
                  </div>
                }
              </div>
            </div>
          }
        }
      </div>

       <!-- Navigation -->
      <div class="mt-10 flex items-center" [class.justify-between]="currentStep() > 1" [class.justify-end]="currentStep() === 1">
        @if (currentStep() > 1) {
          <button (click)="prevStep()" class="font-semibold text-gray-700 hover:text-gray-900 px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors">Back</button>
        }
        @if(currentStep() === 1) {
          <button (click)="nextStep()" [disabled]="!isCurrentStepValid()" class="bg-gray-800 text-white font-semibold py-3 px-8 rounded-lg hover:bg-gray-900 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed">
              <span>Continue</span>
          </button>
        }
      </div>

    </div>

    <footer class="text-center text-sm text-gray-600">
      <p>
        Already have an account? <a routerLink="/login" class="font-bold text-gray-800 hover:underline">Log in</a>
      </p>
    </footer>
  </div>

  <!-- Right Panel: Decorative -->
  <div class="hidden md:flex items-center justify-center rounded-l-3xl p-8 bg-cover bg-center"
    style="background-image: url('https://app.base44.com/assets/auth/auth-page-image.jpg');">
    <div
      class="w-full max-w-md bg-white/50 backdrop-blur-sm border border-gray-200/60 rounded-2xl shadow-lg p-6 flex items-center justify-between">
      <span class="text-2xl text-gray-500">The last CRM you'll ever need</span>
      <div class="flex items-center">
        <div class="h-10 w-px bg-gray-300 mx-4"></div>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </div>
    </div>
  </div>
</main>